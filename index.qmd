---
title: "R Screencasts"
listing:
  contents: content_pages
---

```{r get data, include=FALSE, cache=TRUE}
library(magrittr)
library(dplyr)
library(googlesheets4)
library(janitor)
library(stringr)

gs4_deauth()

screencasts_data_google <- read_sheet("https://docs.google.com/spreadsheets/d/1pjj_G9ncJZPGTYPkR1BYwzA6bhJoeTfY2fJeGKSbOKM/edit#gid=444382177", sheet = "Summary")

screencasts_data <- screencasts_data_google %>% 
  clean_names() %>% 
  filter(complete == "x") %>% 
  arrange(screencast) %>% 
  # regex is (?<=) positive assertion, means look after this match, then the additional = is the things to match,and .+ is all characters except whitespace 
  mutate(vid_key = str_extract(screencast_url, "(?<==).+")) %>% 
  identity() %>% 
  head()

```

If you're looking to learn how to analyze data, you've come to the right place.

David Robinson has recorded a bunch of screencasts where he uses R to analyze data he has never seen before. These are fantastic examples of how to think about approaching an analysis.

> It's like watching over the shoulder of an experienced colleague.

In each video you'll learn:

-   How to approach the analysis (when there's no guiding questions)

-   Handy R tips and tricks

-   What packages and methods he's using, and why.

All code is shared and all datasets are publicly available.

```{r create_pages, echo=FALSE, results='asis'}

for (entry in row.names(screencasts_data)) {
  
  
  #cat("\n\n#", as.character(screencasts_data[entry, "screencast"]), "\n\n")

  #cat("Notable topics: ", as.character(screencasts_data[entry, "notable_topics"]), "\n\n")
  

# this text has to be left aligned for it to work properly, otherwise it gets tabbed and is not recognised as a yaml header
content_text <- paste0(
'---
title: "',as.character(screencasts_data[entry, "screencast"]),'"
description: "',as.character(screencasts_data[entry, "notable_topics"]),'"
date: ',as.character(screencasts_data[entry, "date"]),'
date-format: long
---


test text


<iframe width="560" height="315" src="https://www.youtube.com/embed/', as.character(screencasts_data[entry, "vid_key"]),'" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>')

fileConn<-file(paste0("content_pages/",as.character(screencasts_data[entry, "screencast"]),".qmd"))
writeLines(content_text, fileConn)
close(fileConn)
  
}




```

## Header 2
