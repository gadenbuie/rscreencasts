---
title: |
  Australian Animal Outcomes
description: |
  Data manipulation, Web Scraping (rvest package) and SelectorGadget, Animated Choropleth Map
date: 2020-07-20
date-format: long
---

Notable topics: Data manipulation, Web Scraping (rvest package) and SelectorGadget, Animated Choropleth Map

Recorded on: 2020-07-20

Timestamps by: Eric Fletcher

[View code](https://github.com/dgrtwo/data-screencasts/blob/master/australian-animal-outcomes.Rmd)

## Full screencast

<iframe class="video" src="https://www.youtube.com/embed/E2amEz_upzU" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>

## Timestamps

<script id="timestamps" type="application-json">[{"timestamp_with_hours":"0:1:20","description":"Using `use_tidytemplate` to open the project dataset with the package's tidytemplate Rmd","functions":"use_tidytemplate","packages":"tidytuesdayR","timestamp_sec":80},{"timestamp_with_hours":"0:4:30","description":"Using `rename` to rename `Total` column to `total`","functions":"rename","packages":"dplyr","timestamp_sec":270},{"timestamp_with_hours":"0:6:20","description":"Using `fct_reorder` to reorder stacked barplot with `weight = sum`","functions":"fct_reorder","packages":"forcats","timestamp_sec":380},{"timestamp_with_hours":"0:7:00","description":"Using `fct_lump` with `w = n` to lump together `outcome` factor levels displaying the most frequenct with rest lumped into `other`","functions":"fct_lump","packages":"forcats","timestamp_sec":420},{"timestamp_with_hours":"0:9:15","description":"Using `fct_recode` to combine the factor level `In Stock` with `Currently In Care`","functions":"fct_recode","packages":"forcats","timestamp_sec":555},{"timestamp_with_hours":"0:12:10","description":"Using `fct_reorder` to reorder `facet_wrap` panels","functions":"fct_reorder","packages":"forcats","timestamp_sec":730},{"timestamp_with_hours":"0:13:03","description":"Using `scale_y_continuous` with `labels = comma` to separate digits with comma","functions":"scale_y_continuous","packages":"ggplot2 | scales","timestamp_sec":783},{"timestamp_with_hours":"0:14:10","description":"Using `complete` to complete account for missing combinations of data where the value is 0 in the `released` column","functions":"complete","packages":"tidyr","timestamp_sec":850},{"timestamp_with_hours":"0:16:10","description":"Using `max (year)` within `filter` to subset the data displaying only the most recent year","functions":"max","packages":"base","timestamp_sec":970},{"timestamp_with_hours":"0:19:30","description":"Using `pivot_longer` to pivot location variables from wide to long","functions":"pivot_longer","packages":"tidyr","timestamp_sec":1170},{"timestamp_with_hours":"0:21:45","description":"Web Scaraping table from Wikipedia with `SelectorGadget` and `Rvest`","functions":"read_html | html_nodes | map |","packages":"rvest | janitor","timestamp_sec":1305},{"timestamp_with_hours":"0:25:45","description":"Using `str_to_upper` to upper case the values in the `shorthand` column","functions":"str_to_upper","packages":"stringr","timestamp_sec":1545},{"timestamp_with_hours":"0:27:13","description":"Using `parse_number` to remove commas from `population` and `area` columns","functions":"parse_number","packages":"readr","timestamp_sec":1633},{"timestamp_with_hours":"0:28:55","description":"Using `bind_rows` to bind the two web scraped tables from Wikipedia together by row and column","functions":"bind_rows","packages":"dplyr","timestamp_sec":1735},{"timestamp_with_hours":"0:29:35","description":"Using `inner_join` to combine the Wikipedia table with the original data set","functions":"inner_join","packages":"dplyr","timestamp_sec":1775},{"timestamp_with_hours":"0:29:47","description":"Using `mutate` to create new `per_capita_million` column to show `outcome` on a per million people basis","functions":"mutate","packages":"dplyr","timestamp_sec":1787},{"timestamp_with_hours":"0:37:25","description":"Using `summarize` to create new column `pct_euthanized` showing percent of cats and dogs euthanized over time. Formula accounts for 0 values thus avoiding a resulting empty vector.","functions":"summarize","packages":"dplyr","timestamp_sec":2245},{"timestamp_with_hours":"0:39:10","description":"Using `scale_y_continuous` with `labels = percent` to add percentage sign to y-axis values","functions":"scale_y_continuous","packages":"ggplot2 | scales","timestamp_sec":2350},{"timestamp_with_hours":"0:42:45","description":"Create a choropleth map of Australia using an Australian States `Shapefile` using the `sf` and `ggplot2` packages | Troubleshooting begins at 44:25 (downsizing / downsampling with `sf_simplify`)","functions":"read_sf | geom_sf | sf_simplify","packages":"sf | ggplot2","timestamp_sec":2565},{"timestamp_with_hours":"0:55:45","description":"Add animation to the map of Australia showing the percent of cats euthanized by region using `gganimate`","functions":"transition_manual","packages":"gganimate","timestamp_sec":3345},{"timestamp_with_hours":"1:01:35","description":"Summary of screencast","timestamp_sec":3695}]</script>
