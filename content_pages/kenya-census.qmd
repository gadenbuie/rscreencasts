---
title: |
  Kenya Census
description: |
  Heatmap, Joining Datasets, ShapeFile, Choropleth Map, rKenyaCensus
date: 2021-01-18
date-format: long
---

Notable topics: Heatmap, Joining Datasets, ShapeFile, Choropleth Map, rKenyaCensus

Recorded on: 2021-01-18

Timestamps by: Eric Fletcher

[View code](https://github.com/dgrtwo/data-screencasts/blob/master/2021_01_19_kenya_census.Rmd)

## Full screencast

<iframe class="video" src="https://www.youtube.com/embed/dM_0zjj4TtM" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>

## Timestamps

<script id="timestamps" type="application-json">[{"timestamp_with_hours":"0:2:15","description":"Trim whitespace from a string.","functions":"str_trim","packages":"stringr","timestamp_sec":135},{"timestamp_with_hours":"0:4:35","description":"Reorder factor levels by sorting along another variable by sum.","functions":"fct_reorder","packages":"forcats","timestamp_sec":275},{"timestamp_with_hours":"0:5:00","description":"Label x axis numbers in decimal format (e.g. 0.12, 1,234).","functions":"comma | scale_x_continuous","packages":"scales | ggplot2","timestamp_sec":300},{"timestamp_with_hours":"0:5:15","description":"Pivot data from wide to long.","functions":"gather","packages":"tidyr","timestamp_sec":315},{"timestamp_with_hours":"0:5:25","description":"Convert case of a string to title case.","functions":"str_to_title","packages":"stringr","timestamp_sec":325},{"timestamp_with_hours":"0:6:50","description":"Add text labels to the `geom_point` plot.","functions":"geom_text","packages":"ggplot2","timestamp_sec":410},{"timestamp_with_hours":"0:7:35","description":"Add horizontal reference line to `geom_point` plot.","functions":"geom_hline","packages":"ggplot2","timestamp_sec":455},{"timestamp_with_hours":"0:7:35","description":"Label y axis numbers in percent format.","functions":"comma | scale_y_continuous","packages":"scales | ggplot2","timestamp_sec":455},{"timestamp_with_hours":"0:9:00","description":"Expand the plot axis limits by having the y axis begin at 0.","functions":"expand_limits","packages":"ggplot2","timestamp_sec":540},{"timestamp_with_hours":"0:9:10","description":"Position x axis data on a log10 scale.","functions":"scale_x_log10","packages":"ggplot2","timestamp_sec":550},{"timestamp_with_hours":"0:10:20","description":"Pivot data from wide to long.","functions":"gather","packages":"tidyr","timestamp_sec":620},{"timestamp_with_hours":"0:11:15","description":"Convert case of a string to title case.","functions":"str_to_title","packages":"stringr","timestamp_sec":675},{"timestamp_with_hours":"0:11:50","description":"Reorder factor levels by sorting along another variable by sum.","functions":"fct_reorder","packages":"forcats","timestamp_sec":710},{"timestamp_with_hours":"0:14:45","description":"Create a heatmap.","functions":"geom_tile","packages":"ggplot2","timestamp_sec":885},{"timestamp_with_hours":"0:15:13","description":"Complete a data frame with missing combinations of data.","functions":"complete","packages":"tidyr","timestamp_sec":913},{"timestamp_with_hours":"0:15:30","description":"Rotate x axis labels 90 degrees.","functions":"theme","packages":"ggplot2","timestamp_sec":930},{"timestamp_with_hours":"0:16:55","description":"Join two datasets while including all rows in x or y.","functions":"full_join","packages":"dplyr","timestamp_sec":1015},{"timestamp_with_hours":"0:18:00","description":"Replace matched patterns in a string using `str_replace_all` with the `regular expression` `([a-z])([A-Z])` and `\"\\\\1 \\\\2\"` to separate words that were joined together (e.g. TanaRiver, Tana River).","functions":"str_replace_all","packages":"stringr","timestamp_sec":1080},{"timestamp_with_hours":"0:19:40","description":"Join two datasets while returning all rows from x without a match in y.","functions":"anti_join","packages":"dplyr","timestamp_sec":1180},{"timestamp_with_hours":"0:19:40","description":"Join two datasets while including all rows in y.","functions":"right_join","packages":"dplyr","timestamp_sec":1180},{"timestamp_with_hours":"0:19:40","description":"Join two datasets while including all rows in x and y.","functions":"inner_join","packages":"dplyr","timestamp_sec":1180},{"timestamp_with_hours":"0:27:35","description":"Import and basic exploration of the `rKenyaCensus` package shapefiles.","functions":"KenyaCounties_SHP","packages":"rKenyaCensus","timestamp_sec":1655},{"timestamp_with_hours":"0:28:15","description":"Create a map using the `rKenyaCensus` shapefile data.","functions":"st_as_sf | geom_sf","packages":"ggplot2 | sf","timestamp_sec":1695},{"timestamp_with_hours":"0:35:00","description":"Simplify the shapefile data to make for faster processesing.","functions":"st_simplify","packages":"sf","timestamp_sec":2100},{"timestamp_with_hours":"0:36:20","description":"Join two datasets while including all rows in x.","functions":"left_join","packages":"dplyr","timestamp_sec":2180},{"timestamp_with_hours":"0:37:25","description":"Create a choropleth map - TROUBLSHOOTING through 41:45.","functions":"ggplot | geom_sf | theme_map","packages":"ggplot2 | sf","timestamp_sec":2245},{"timestamp_with_hours":"0:43:20","description":"Create a flexible function that generates `geom_col` plots used for for exploring the many different datasets in the `rKenyaCensus` package.","functions":"filter | gather | mutate | group_by | summarize | spread | select","packages":"ggplot2 | dplyr | tidyr","timestamp_sec":2600},{"timestamp_with_hours":"0:51:55","description":"Lump together factor levels into \"other\".","functions":"fct_lump","packages":"forcats","timestamp_sec":3115},{"timestamp_with_hours":"0:59:20","description":"Summary of screencast.","timestamp_sec":3560}]</script>
