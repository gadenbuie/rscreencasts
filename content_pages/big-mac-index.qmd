---
title: |
  Big Mac Index
description: |
  Data manipulation, Pairwise correlation
date: 2020-12-21
date-format: long
---

Notable topics: Data manipulation, Pairwise correlation

Recorded on: 2020-12-21

Timestamps by: Eric Fletcher

[View code](https://github.com/dgrtwo/data-screencasts/blob/master/2020_12_22_big_mac_index.Rmd)

## Full screencast

<iframe class="video" src="https://www.youtube.com/embed/pxJ5wtxL5Kw" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>

## Timestamps

<script id="timestamps" type="application-json">[{"timestamp_with_hours":"0:5:45","description":"Use the `add_count` function from the `dplyr` package with `name = \"country_total\"` to count the number of observations by group in the `name` variable.","functions":"add_count","packages":"dplyr","timestamp_sec":345},{"timestamp_with_hours":"0:5:55","description":"Use `filter` from the `dplyr` package with `country_total == max(country_total)` to filter the data for countries where every data point is provided.","functions":"filter | max","packages":"dplyr | base","timestamp_sec":355},{"timestamp_with_hours":"0:6:30","description":"Use the `rename` function from the `dplyr` package to rename the `name` variable to `country_name`.","functions":"rename","packages":"dplyr","timestamp_sec":390},{"timestamp_with_hours":"0:6:45","description":"Use `theme(legend.position = \"none\")` to hide the legend generated by the `geom_line` plot.","functions":"theme","packages":"ggplot2","timestamp_sec":405},{"timestamp_with_hours":"0:7:00","description":"Use the `expand_limits` function from the `ggplot2` package with `y = 0` so that each `facet panel` has a y-axis that starts at the same point, in this case 0.","functions":"expand_limits","packages":"ggplot2","timestamp_sec":420},{"timestamp_with_hours":"0:8:30","description":"Reorder `facet panels` using the `fct_reorder` from the `forcats` package with a function passed in to the `.fun` argument to calculate the ratio between `max` and `min` values in the `local_price` variable.  At 12:00, David changes from using `max` and `min` to `last` and `first` to calculate the `Big Mac inflation rate`.","functions":"fct_reorder","packages":"forcats","timestamp_sec":510},{"timestamp_with_hours":"0:13:20","description":"Use `scale_x_log10` from the `ggplot2` package to change the `breaks` for the `x-axis` while also applying a `log10` tranformation.","functions":"scale_x_log10","packages":"ggplot2","timestamp_sec":800},{"timestamp_with_hours":"0:15:05","description":"Use `geom_text` from the from the `ggplot2` with `paste0` package to add labels to each bar in the plot indicating how many time `X` the price of a Big Mac increased from 2000 to 2020.","functions":"geom_text | paste0","packages":"ggplot2 | base","timestamp_sec":905},{"timestamp_with_hours":"0:28:10","description":"Add two lines to a plot using 2 `geom_line`  with  `color =` argument and `y=` argument to distinguish between the two lines.","functions":"geom_line","packages":"ggplot2","timestamp_sec":1690},{"timestamp_with_hours":"0:34:05","description":"Use `geom_hline` from the `ggplot2` package to add horizontal reference line to each facet panel.","functions":"geom_hline","packages":"ggplot2","timestamp_sec":2045},{"timestamp_with_hours":"0:35:40","description":"Use `theme` from the `ggplot2` package with `axis.text.x = element_text(angle = 90, hjust = 1)` to rmake the x-axis labels horizontal in order to avoid overcrowding.","functions":"theme","packages":"ggplot2","timestamp_sec":2140},{"timestamp_with_hours":"0:38:25","description":"Use `geom_text` to add country names to each point in `geom_point` plot. David then opts to use `geom_text_repel` from the `ggrepel` package instead to avoid overcrowding.","functions":"geom_text | geom_text_repel","packages":"ggplot2 | ggrepel","timestamp_sec":2305},{"timestamp_with_hours":"0:38:40","description":"Use `geom_smooth` from the `ggplot2` package with `lm` smoothing method to help show the linear trend when comparing `gdp_dollar` to `usd_raw`.","functions":"geom_smooth","packages":"ggplot2","timestamp_sec":2320},{"timestamp_with_hours":"0:47:00","description":"Use the `gganimate` package to animate the `GDP per capital` versus `adjusted big mac index relative to USD` over time.","functions":"transition_manual | transition_time","packages":"gganimate","timestamp_sec":2820},{"timestamp_with_hours":"0:53:05","description":"Use `str_to_upper` and `str_remove` to remove `_adjusted` from `base_currency` while uppercasing the characters that remain.","functions":"str_to_upper | str_remove","packages":"stringr","timestamp_sec":3185},{"timestamp_with_hours":"0:58:05","description":"Use `pairwise_cor` from the `widyr` package to perform `pairwise correlation` to figure out which countries Big Mac prices tend to move together over time.","functions":"pairwise_cor","packages":"widyr","timestamp_sec":3485},{"timestamp_with_hours":"1:00:50","description":"Screencast summary.","timestamp_sec":3650}]</script>
