---
title: |
  Thanksgiving Dinner
description: |
  Survey data, Network graphing
date: 2018-11-20
date-format: long
---

Notable topics: Survey data, Network graphing

Recorded on: 2018-11-20

Timestamps by: Alex Cookson

[View code](https://github.com/dgrtwo/data-screencasts/blob/master/thanksgiving.Rmd)

## Full screencast

<iframe class="video" src="https://www.youtube.com/embed/rxJZT0duwfU" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>

## Timestamps

<script id="timestamps" type="application-json">[{"timestamp_with_hours":"0:4:10","description":"Exploratory bar chart of age distribution (and gender) of survey respondents","timestamp_sec":250},{"timestamp_with_hours":"0:7:40","description":"Using count function on multiple columns to get detailed counts","timestamp_sec":460},{"timestamp_with_hours":"0:11:25","description":"Parsing numbers from text using parse_number function, then using those numbers to re-level an ordinal factor (income bands)","timestamp_sec":685},{"timestamp_with_hours":"0:13:05","description":"Exploring relationship between income and using homemade (vs. canned) cranberry sauce","timestamp_sec":785},{"timestamp_with_hours":"0:14:00","description":"Adding group = 1 argument to the aes function to properly display a line chart","timestamp_sec":840},{"timestamp_with_hours":"0:14:30","description":"Rotating text for axis labels that overlap","timestamp_sec":870},{"timestamp_with_hours":"0:16:50","description":"Getting confidence intervals for proportions using Jeffreys interval (using beta distribution with an uniformative prior)","functions":"qbeta","timestamp_sec":1010},{"timestamp_with_hours":"0:17:55","description":"Explanation of Clopper-Pearson approach as alternative to Jeffreys interval","timestamp_sec":1075},{"timestamp_with_hours":"0:18:30","description":"Using geom_ribbon function add shaded region to line chart that shows confidence intervals","functions":"geom_ribbon","timestamp_sec":1110},{"timestamp_with_hours":"0:21:55","description":"Using starts_with function to select fields with names that start with a certain string (e.g., using \"pie\" selects \"pie1\" and \"pie2\")","functions":"starts_with","timestamp_sec":1315},{"timestamp_with_hours":"0:22:55","description":"Using gather function to get wide-format data to tidy (tall) format","functions":"gather","timestamp_sec":1375},{"timestamp_with_hours":"0:23:45","description":"Using str_remove and regex to remove digits from field values (e.g., \"dessert1\" and \"dessert2\" get turned into \"dessert\")","functions":"str_remove","timestamp_sec":1425},{"timestamp_with_hours":"0:27:00","description":"\"What are people eating?\" Graphing pies, sides, and desserts","timestamp_sec":1620},{"timestamp_with_hours":"0:28:00","description":"Using fct_reorder function to reorder foods based on how popular they are","functions":"fct_reorder","timestamp_sec":1680},{"timestamp_with_hours":"0:28:45","description":"Using n_distinct function count the number of unique respondents","functions":"n_distinct","timestamp_sec":1725},{"timestamp_with_hours":"0:30:25","description":"Using facet_wrap function to facet food types into their own graphs","timestamp_sec":1825},{"timestamp_with_hours":"0:32:50","description":"Using parse_number function to convert age ranges as character string into a numeric field","functions":"parse_number","timestamp_sec":1970},{"timestamp_with_hours":"0:35:35","description":"Exploring relationship between US region and food types","timestamp_sec":2135},{"timestamp_with_hours":"0:36:15","description":"Using group_by, then mutate, then count to calculate a complicated summary","timestamp_sec":2175},{"timestamp_with_hours":"0:40:35","description":"Exploring relationship between praying at Thanksgiving (yes/no) and food types","timestamp_sec":2435},{"timestamp_with_hours":"0:42:30","description":"Empirical Bayes binomial estimation for calculating binomial confidence intervals (see Dave's book on Empirical Bayes)","functions":"add_ebb_estimate","packages":"ebbr","timestamp_sec":2550},{"timestamp_with_hours":"0:45:30","description":"Asking, \"What sides/desserts/pies are eaten together?\"","timestamp_sec":2730},{"timestamp_with_hours":"0:46:20","description":"Calculating pairwise correlation of food types","functions":"pairwise_cor","packages":"widyr","timestamp_sec":2780},{"timestamp_with_hours":"0:49:05","description":"Network graph of pairwise correlation","packages":"ggraph | igraph","timestamp_sec":2945},{"timestamp_with_hours":"0:51:40","description":"Adding text labels to nodes using geom_node_text function","functions":"geom_node_text","packages":"ggraph | igraph","timestamp_sec":3100},{"timestamp_with_hours":"0:53:00","description":"Getting rid of unnecessary graph elements (e.g., axes, gridlines) with theme_void function","functions":"theme_void","timestamp_sec":3180},{"timestamp_with_hours":"0:53:25","description":"Explanation of network graph relationships","timestamp_sec":3205},{"timestamp_with_hours":"0:55:05","description":"Adding dimension to network graph (node colour) to represent the type of food","timestamp_sec":3305},{"timestamp_with_hours":"0:57:45","description":"Fixing overlapping text labels using the geom_node_text function's repel argument","functions":"geom_node_text","packages":"ggraph | igraph","timestamp_sec":3465},{"timestamp_with_hours":"0:58:55","description":"Tweaking display of percentage legend to be in more readable format (e.g., \"40%\" instead of \"0.4\")","packages":"scales","timestamp_sec":3535},{"timestamp_with_hours":"1:00:05","description":"Summary of screencast","timestamp_sec":3605}]</script>
