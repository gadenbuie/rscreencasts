---
title: |
  Beer Production
description: |
  tidymetrics package demonstration, Animated map (gganimate package)
date: 2020-03-31
date-format: long
---

Notable topics: tidymetrics package demonstration, Animated map (gganimate package)

Recorded on: 2020-03-31

Timestamps by: Alex Cookson

[View code](https://github.com/dgrtwo/data-screencasts/blob/master/beer-production.Rmd)

## Full screencast

<iframe class="video" src="https://www.youtube.com/embed/1R4X09w7tQ8" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>

## Timestamps

<script id="timestamps" type="application-json">[{"timestamp_with_hours":"0:4:25","description":"Asking, \"What ingredients are used in beer?\"","timestamp_sec":265},{"timestamp_with_hours":"0:4:40","description":"Using filter and max functions to look at the most recent period of time","functions":"filter | max","timestamp_sec":280},{"timestamp_with_hours":"0:7:25","description":"Using paste and ymd functions (ymd is from lubridate package) to convert year-month field into an date-formatted field","functions":"paste | ymd","timestamp_sec":445},{"timestamp_with_hours":"0:9:20","description":"Spotting potential missing or mis-parsed data","timestamp_sec":560},{"timestamp_with_hours":"0:13:50","description":"Introducing the tidymetrics framework","timestamp_sec":830},{"timestamp_with_hours":"0:14:45","description":"Using install_github function to install tidymetrics from GitHub","functions":"install_github","timestamp_sec":885},{"timestamp_with_hours":"0:15:25","description":"Using cross_by_dimensions function from tidymetrics package to get aggregations at different levels of multiple dimensions","functions":"cross_by_dimensions","packages":"tidymetrics","timestamp_sec":925},{"timestamp_with_hours":"0:18:10","description":"Using cross_by_periods function from tidymetrics package to also get aggregations for different intervals (e.g, month, quarter, year)","functions":"cross_by_periods","packages":"tidymetrics","timestamp_sec":1090},{"timestamp_with_hours":"0:22:00","description":"Using use_metrics_scaffold function from tidymetrics package to create framework for documenting dimensions in RMarkdown YAML header","functions":"use_metrics_scaffold","packages":"tidymetrics","timestamp_sec":1320},{"timestamp_with_hours":"0:24:00","description":"Using create_metrics function from tidymetrics package to save data as a tibble with useful metadata (good for visualizing interactively)","functions":"create_metrics","packages":"tidymetrics","timestamp_sec":1440},{"timestamp_with_hours":"0:25:15","description":"Using preview_metric function from shinymetrics package (still under development as of 2020-04-24) to demonstrate shinymetrics","functions":"preview_metrics","packages":"shinymetrics","timestamp_sec":1515},{"timestamp_with_hours":"0:27:35","description":"Succesfuly getting shinymetrics to work","packages":"shinymetrics","timestamp_sec":1655},{"timestamp_with_hours":"0:28:25","description":"Explanation of the shinymetrics bug David ran into","packages":"shinymetrics","timestamp_sec":1705},{"timestamp_with_hours":"0:34:10","description":"Changing order of ordinal variable (e.g., \"1,000 to 10,000\" and \"10,000 to 20,000\") using the parse_number, fct_lump, and coalesce functions","functions":"parse_number | fct_lump | coalesce","timestamp_sec":2050},{"timestamp_with_hours":"0:41:25","description":"Asking, \"Where is beer produced?\"","timestamp_sec":2485},{"timestamp_with_hours":"0:46:45","description":"Looking up sf package documentation to refresh memory on how to draw state borders for a map","packages":"sf","timestamp_sec":2805},{"timestamp_with_hours":"0:48:55","description":"Using match function and state.abb vector (state abbreviations) from sf package to perform a lookup of state names","functions":"match","timestamp_sec":2935},{"timestamp_with_hours":"0:51:05","description":"Using geom_sf function (and working through some hiccoughs) to create a choropleth map","functions":"geom_sf","packages":"sf","timestamp_sec":3065},{"timestamp_with_hours":"0:52:30","description":"Using theme_map function from ggthemes package to get more appropriate styling for maps","functions":"theme_map","packages":"ggthemes","timestamp_sec":3150},{"timestamp_with_hours":"0:55:40","description":"Experimenting with how to get the legend to display in the bottom right corner","timestamp_sec":3340},{"timestamp_with_hours":"0:58:25","description":"Starting to build an animation of consumption patterns over time using gganimate package","packages":"gganimate","timestamp_sec":3505},{"timestamp_with_hours":"1:03:40","description":"Getting the year being animated to show up in the title of a gganimate map","packages":"gganimate","timestamp_sec":3820},{"timestamp_with_hours":"1:05:40","description":"Summary of screencast","timestamp_sec":3940},{"timestamp_with_hours":"1:06:50","description":"Spotting a mistake in a group_by call causing the percentages not to add up properly","timestamp_sec":4010},{"timestamp_with_hours":"1:09:10","description":"Brief extra overview of tidymetrics code","packages":"tidymetrics","timestamp_sec":4150}]</script>
